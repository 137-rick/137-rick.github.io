I"•<p>ç»†èŠ‚ä»‹ç»ï¼Œåšæ’è¡Œå»ºè®®ä¸åšå…¨ç«™çš„ï¼Œé™¤éä½ æœ‰å¾ˆå¤§çš„redisé›†ç¾¤æˆ–ä½¿ç”¨ssdb</p>

<p>é‚£ä¹ˆå°±ç»´æŒå‰å‡ ä¸‡ç”¨æˆ·å³å¯â€¦â€¦<br />
ä½¿ç”¨redisçš„zsetå³å¯</p>

<pre class="wp-block-preformatted">$this-&gt;redis-&gt;zAdd($rankType, $score, $key);<br />if ($length &gt; 0) { //é™ä¸ªæ•°<br />  $all = $this-&gt;redis-&gt;zCard($rankType);<br />  if ($all &gt; $length) {<br />    $keys = $this-&gt;redis-&gt;zRange($rankType, 0, $all -$length);<br />    foreach ($keys as $key) {<br />        $this-&gt;redis-&gt;zDelete($rankType, $key);<br />    }<br />  }<br />}</pre>

<p>æ­¤ä»£ç æ¥è‡ªzphpï¼ˆåŸºç¡€swooleçš„å®æ—¶é€šè®¯æ¡†æ¶ï¼‰</p>
:ET