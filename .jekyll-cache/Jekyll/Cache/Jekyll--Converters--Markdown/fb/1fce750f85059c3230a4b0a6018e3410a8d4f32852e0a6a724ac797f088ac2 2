I"ÿ<div id="sina_keyword_ad_area2" class="articalContent   ">
  <div>
    <ul>
      <li>
        ä½œè€…: laruence(<a href="http://www.laruence.com/" title="é£é›ªä¹‹éš…" target="_blank">http://www.laruence.com</a>)
      </li>
      <li>
        æœ¬æ–‡åœ°å€: <a href="http://www.laruence.com/2011/01/20/1840.html" title="Permanet Link to Expect:100-continue">http://www.laruence.com/2011/01/20/1840.html</a>
      </li>
      <li>
        è½¬è½½è¯·æ³¨æ˜å‡ºå¤„
      </li>
    </ul>
  </div>
  
  <div>
  </div>
  
  <p>
    åœ¨ä½¿ç”¨curlåšPOSTçš„æ—¶å€™, å½“è¦POSTçš„æ•°æ®å¤§äº1024å­—èŠ‚çš„æ—¶å€™, curlå¹¶ä¸ä¼šç›´æ¥å°±å‘èµ·POSTè¯·æ±‚,è€Œæ˜¯ä¼šåˆ†ä¸ºä¿©æ­¥,
  </p>
  
  <pre name="code"></pre>
  
  <ol>
    <li>
      1. å‘é€ä¸€ä¸ªè¯·æ±‚,åŒ…å«ä¸€ä¸ªExpect:100-continue, è¯¢é—®Serverä½¿ç”¨æ„¿æ„æ¥å—æ•°æ®
    </li>
    <li>
      2.æ¥æ”¶åˆ°Serverè¿”å›çš„100-continueåº”ç­”ä»¥å, æ‰æŠŠæ•°æ®POSTç»™Server
    </li>
    <li>
    </li>
  </ol>
  
  <p>
    è¿™æ˜¯libcurlçš„è¡Œä¸º.
  </p>
  
  <p>
    å…·ä½“çš„RFCç›¸å…³æè¿°: <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.2.3">http://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.2.3</a>
  </p>
  
  <p>
    äºæ˜¯,è¿™æ ·å°±æœ‰äº†ä¸€ä¸ªé—®é¢˜, å¹¶ä¸æ˜¯æ‰€æœ‰çš„Serveréƒ½ä¼šæ­£ç¡®åº”ç­”100-continue, æ¯”å¦‚lighttpd,å°±ä¼šè¿”å›417 â€œExpectation Failedâ€, åˆ™ä¼šé€ æˆé€»è¾‘å‡ºé”™,,
  </p>
  
  <p>
    è¦è§£å†³çš„åŠæ³•ä¹ŸæŒºå®¹æ˜“:
  </p>
  
  <pre name="code"></pre>
  
  <ol>
    <li>
      <span>curl_setopt</span><span>(</span><span>$ch</span><span>,</span>CURLOPT_HTTPHEADER<span>,</span> <span>array</span><span>(</span><span>&#8216;Expect:&#8217;</span><span>));</span>
    </li>
    <li>
      <span>//Disable Expect: header (lighttpd does not support it)</span>
    </li>
  </ol>
</div>
:ET